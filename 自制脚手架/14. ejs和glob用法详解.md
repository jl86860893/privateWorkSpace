# ejs和glob用法详解

## 1. ejs用法

### 1.1 ejs模板的三种用法

```js
// 1. 可重复使用的编译模板
let template = ejs.compile(str, options);
const compileTemplate = template(data);
// => 输出渲染后的 HTML 字符串

// 2. 直接输出，使用一次
const renderTemplate = ejs.render(str, data, options);
// => 输出渲染后的 HTML 字符串

// 3. 通过文件得到模板；如果第四个参数回调函数不写，返回Promise
ejs.renderFile(filename, data, options, function(err, str){
    // str => 输出渲染后的 HTML 字符串
});
```

### 1.2 标签含义

- <% '脚本' 标签，用于流程控制，无输出。

- <%_ 删除其前面的空格符;    `<%_ %><div>123</div>`

- <%= 输出数据到模板（输出是转义 HTML 标签）  `<div><%= user.name %></div>`

- <%- 输出非转义的数据到模板 `<div><%- user.name %></div>`

- <%# 注释标签，不执行、不输出内容

- <%% 输出字符串 '<%'

- %> 一般结束标签

- -%> 删除紧随其后的换行符

- _%> 将结束标签后面的空格符删除

